---
title: windowã®rootViewControllerã‚’å¤‰æ›´ã—ã¦ç”»é¢é·ç§»ã™ã‚‹æ–¹æ³•
tags:
  - iOS
  - UIKit
  - Swift
private: false
id: 307e9212e77b2d297415
organization_url_name: null
slide: false
---
æ–°ã—ã„ç”»é¢é·ç§»ã®æ–¹æ³•ã‚’å­¦ã‚“ã ã‹ã‚‰åŠåˆ†ãƒ¡ãƒ¢æ›¸ãæ„Ÿè¦šã§æ›¸ã„ã¦ã„ãã§ã€œ
è¨‚æ­£ã€ç·¨é›†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€æ„Ÿæ¿€ã‚„ã§ã€œã€‚

# ç›®çš„
ä½œæˆã—ãŸã„ã‚‚ã®ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰ç”»é¢é·ç§»ã™ã‚‹æ©Ÿèƒ½ã€‚
<img width=30% src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/707293/05a0791c-4e25-03c0-ecab-14589ce5ff05.gif">

ã“ã‚Œã‚’ã€Segue ç­‰ã‚’ä½¿ã‚ãªã„ã‚„ã‚Šæ–¹ã§ç”»é¢é·ç§»ã•ã›ã‚‹ã€‚
è¦ã¯ã€RootViewController ã‚’ä½¿ã£ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ç”»é¢é·ç§»ã‚’ã•ã›ã‚‹ã€‚

# ç’°å¢ƒ
- macOS Monterey: Version12.4
- Xcode: Version 13.4.1
- Swift: Version 5.6.1

# å‰æ
[ã‚³ãƒãƒ©ã®è¨˜äº‹](https://zenn.dev/nkysyuichi/articles/c3c2a6a63e1404)ã‚’å‚è€ƒã«ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ã‚’è¡Œã„ã¾ã™ã€‚
1. AppDelegate ã‹ã‚‰ `// MARK: UISceneSession Lifecycle` ä»¥é™ã®ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã™ã‚‹
1. AppDelegate ã« window ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ 
1. Info.plist ã‹ã‚‰ UIApplicationSceneManifest ã‚’å…¨ã¦å‰Šé™¤
1. SceneDelegate.swift ã‚’å‰Šé™¤ã™ã‚‹

æ­£ç›´ã€å‰Šé™¤ã™ã‚‹ã‹ã¯ä»»æ„ã ãŒã€2 ã® `window` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã ã‘ã¯è¿½åŠ ã—ã¦ã„ã¦æ¬²ã—ã„ã€‚

ãªã®ã§ã€`AppDelegate.swift` ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚

```swift:AppDelegate.swift
import UIKit

@main
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
        return true
    }
}

```

# Storyboardã§ã®è¨­å®š
ViewController ã‚’è¿½åŠ ã—ã¦ã„ãã€‚ä»Šå›ã¯ã‚ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«ã€é’ã€é»„ã€èµ¤ã®ç”»é¢ã‚’ãã‚Œãã‚Œã€`FirstViewController`, `SecondViewController`, `ThirdViewController` ã¨ã—ãŸã€‚
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-06-16 22.29.01.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/707293/40647eee-c19f-39d0-dc90-3ec0c51bebc1.png)

æ¬¡ã«ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ç”»é¢é·ç§»ã™ã‚‹ã‚ˆã†ã«ãƒœã‚¿ãƒ³ã‚’é…ç½®ã—ã¦ã„ãã€‚
é…ç½®ã—ãŸã‚‚ã®ãŒã‚³ãƒãƒ©â†“
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/707293/8067ec2f-67fe-739c-d439-7896dd09cdad.png)
æœ€å¾Œã«ã€`Storyboard ID` ã‚’è¨­å®šã™ã‚‹ã€‚
ä»Šå›ã¯ã€`FirstViewController`, `SecondViewController`, `ThirdViewController` ã§ã™ã€‚
ãã®ãŸã‚ã€é †ç•ªã« `FirstVC`, `SecondVC`, `ThirdVC` ã¨ã™ã‚‹ã€‚
<img width = 40% src = "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/707293/faf9cd34-540a-874e-a395-66d4d4f50527.png">
ã“ã‚Œã§æº–å‚™ã¯ OKã€‚ç‰¹ã« `Storyboard ID` ã‚’è¨­å®šã¯å¿˜ã‚Œãªã„ã‚ˆã†ã«ã€‚

# AppDelegateã§ã®è¨­å®š

```diff_swift: AppDelegate.swift
import UIKit

@main
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?
+    let storyboard = UIStoryboard(name: "Main", bundle: nil)

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
+        self.window = UIWindow(frame: UIScreen.main.bounds)
+        self.window?.makeKeyAndVisible()
+        let initialViewController = self.storyboard.instantiateViewController(withIdentifier: "FirstVC")
+        self.window?.rootViewController = initialViewController

        return true
    }

+    func switchViewController(identifier: String) {
+        UIView.transition(with: self.window!, duration: 0.5, options: .transitionCrossDissolve, animations: {
+            let oldState: Bool = UIView.areAnimationsEnabled
+            UIView.setAnimationsEnabled(false)
+            self.window?.rootViewController = self.storyboard.instantiateViewController(withIdentifier: identifier)
+            UIView.setAnimationsEnabled(oldState)
+        }, completion: nil)
+    }
}
```

# ViewControllerã§ã®è¨­å®š
UI ãƒ‘ãƒ¼ãƒ„ã¨ã‚³ãƒ¼ãƒ‰ã‚’ç´ä»˜ã‘ã™ã‚‹ã¨ã€â†“ã®ã‚ˆã†ã«ãªã‚‹ã€‚
```diff_swift:ã€€FirstViewController
import UIKit

final class FirstViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // Do any additional setup after loading the view.
    }

+   @IBAction private func goToSecondVCButton(_ sender: Any) {
+   }

}
```
ãƒ¡ã‚½ãƒƒãƒ‰ã®å‘½åã¯ã”æ„›å¬Œã¨ã„ã†ã“ã¨ã§ğŸ’¦ã€‚

æ¬¡ã«ã€ç”»é¢é·ç§»ã‚’ã•ã›ã‚‹ãŸã‚ã«ã€`func goToSecondVCButton` ã«å…ˆã»ã©ä½œæˆã—ãŸ `func switchViewController(identifier: String)` ã‚’å‘¼ã°ã›ã‚‹ã€‚

ãã†ã™ã‚‹ã¨ã€â†“ã®ã‚ˆã†ã«ãªã‚‹ã€‚
```diff_swift: FirstViewController
import UIKit

final class FirstViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // Do any additional setup after loading the view.
    }

    @IBAction private func goToSecondVCButton(_ sender: Any) {
+        guard let appDelegate = UIApplication.shared.delegate as? AppDelegate else { return }
+        appDelegate.switchViewController(identifier: "SecondVC")
    }
}
```
åŒæ§˜ã®ã“ã¨ã‚’ `SecondViewController`, `ThirdViewController` ã«ã‚‚è¡Œã†ã€‚
```diff_swift: SecondViewController
import UIKit

final class SecondViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // Do any additional setup after loading the view.
    }

+    @IBAction private func goToThirdVCButton(_ sender: Any) {
+        guard let appDelegate = UIApplication.shared.delegate as? AppDelegate else { return }
+        appDelegate.switchViewController(identifier: "ThirdVC")
+    }
}
```

```diff_swift: ThirdViewController
import UIKit

final class ThirdViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        // Do any additional setup after loading the view.
    }

+    @IBAction private func goToFirstVCButton(_ sender: Any) {
+        guard let appDelegate = UIApplication.shared.delegate as? AppDelegate else { return }
+        appDelegate.switchViewController(identifier: "FirstVC")
+    }
}
```
ã“ã‚Œã§ã€Segue ã‚’ä½¿ã‚ãšã« RootViewController ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ç”»é¢é·ç§»ã§ããŸã€‚

# å‚è€ƒæ–‡çŒ®

https://en.swiswiswift.com/2019-02-01/

https://qiita.com/tomu28/items/4bb327a8f80c042e41a1

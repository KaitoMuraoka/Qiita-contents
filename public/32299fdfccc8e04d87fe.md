---
title: Google Play Core ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ›´æ–°ã¨å¯¾å¿œ
tags:
  - Java
  - Android
  - Kotlin
  - GooglePlay
  - GooglePlayConsole
private: false
updated_at: '2024-06-28T16:10:55+09:00'
id: 32299fdfccc8e04d87fe
organization_url_name: dosukoi-juku
slide: false
ignorePublish: false
---
# èƒŒæ™¯
Androidã‚¢ãƒ—ãƒªãƒªãƒªãƒ¼ã‚¹æ™‚ã«ã€ã“ã‚“ãªãƒ¡ãƒ¼ãƒ«ãŒæ¥ã¾ã—ãŸã€‚

> Google Play Core (com.google.android.play:core) has added this note for SDK version 1.10.3:
Update your Play Core Maven dependency to an Android 14 compatible version! Your current Play Core library is incompatible with targetSdkVersion 34 (Android 14), which introduces a backwards-incompatible change to broadcast receivers to improve user security. As a reminder, from August 31, Google Play requires all new app releases to target Android 14. Update to the latest Play Core library version dependency to avoid app crashes: https://developer.android.com/guide/playcore#playcore-migration

<details><summary>æ—¥æœ¬èªè¨³</summary>
Google Play Core (com.google.android.play:core) ã¯ã€SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³1.10.3ã«ä»¥ä¸‹ã®æ³¨æ„æ›¸ãã‚’è¿½åŠ ã—ã¾ã—ãŸï¼š
Play Coreã®Mavenä¾å­˜é–¢ä¿‚ã‚’Android 14äº’æ›ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°ã—ã¦ãã ã•ã„ï¼ç¾åœ¨ã®Play Coreãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯targetSdkVersion 34 (Android 14) ã¨äº’æ›æ€§ãŒã‚ã‚Šã¾ã›ã‚“ã€‚Android 14ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã«ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã«å¾Œæ–¹äº’æ›æ€§ã®ãªã„å¤‰æ›´ãŒå°å…¥ã•ã‚Œã¦ã„ã¾ã™ã€‚ãªãŠã€8æœˆ31æ—¥ä»¥é™ã€Google Playã§ã¯ã™ã¹ã¦ã®æ–°ã—ã„ã‚¢ãƒ—ãƒªãƒªãƒªãƒ¼ã‚¹ãŒAndroid 14ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã™ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚ã‚¢ãƒ—ãƒªã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã€æœ€æ–°ã®Play Coreãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°ã—ã¦ãã ã•ã„ï¼šhttps://developer.android.com/guide/playcore#playcore-migration
</details>

ã¾ã¨ã‚ã‚‹ã¨ã€
- Google Play Core ã§ã¯ã€SDKãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ³¨æ„äº‹é …ãŒè¿½åŠ ã•ã‚ŒãŸ
- Play Core Maven ã®ä¾å­˜é–¢ä¿‚ã‚’ Android14 ã®äº’æ›ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°ã—ã¦ã»ã—ã„

ã£ã¦æ„Ÿã˜ã‹ãªã€‚

# Google Play Core ã¨ã¯
Google ãŒæä¾›ã™ã‚‹ Android å‘ã‘ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ã‚¢ãƒ—ãƒªé–‹ç™ºè€…ãŒæ§˜ã€…ãªGoogle Play æ©Ÿèƒ½ã‚’ã‚¢ãƒ—ãƒªã«çµ±åˆã§ãã‚‹ã‚ˆã†ã«æ‰‹åŠ©ã‘ã‚’ã—ã¦ãã‚Œã¾ã™ã€‚ä¸»ã«ä»¥ä¸‹ã®ã‚ˆã†ãªæ©Ÿèƒ½ã‚’ã‚¢ãƒ—ãƒªã«è¿½åŠ ã§ãã¾ã™ã€‚

- è¿½åŠ ã®è¨€èªãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- æ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é…ä¿¡ã‚’ç®¡ç†
- ã‚¢ã‚»ãƒƒãƒˆãƒãƒƒã‚¯ã®é…ä¿¡ã‚’ç®¡ç†
- ã‚¢ãƒ—ãƒªå†…ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹
- ã‚¢ãƒ—ãƒªå†…ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹


# ã“ã®è­¦å‘Šã«ã¤ã„ã¦
ã“ã®è­¦å‘Šã¯ã€Google Play Core ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
ã“ã®è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚ŒãŸç†ç”±ã¨ã—ã¦ã€Google Play Core ã® Java ã¨ Kotlin ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯æ©Ÿèƒ½åˆ¥ã«è¤‡æ•°ã® Android ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åˆ†å‰²ã•ã‚ŒãŸã‹ã‚‰ã§ã™ã€‚
è¤‡æ•°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åˆ†ã‹ã‚Œã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€Play Core ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚¢ãƒ—ãƒªã«è¿½åŠ ã™ã‚‹ã‚µã‚¤ã‚ºãŒæ¸›ã‚Šã€å€‹ã€…ã®æ©Ÿèƒ½ã®ãƒªãƒªãƒ¼ã‚¹ã‚µã‚¤ã‚¯ãƒ«ã‚’çŸ­ç¸®ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

# ã“ã®å¯¾å¿œã§ä½•ãŒå¤‰ã‚ã‚‹ã®ï¼Ÿ
ã“ã®å¯¾å¿œã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒå¤§ããå¤‰ã‚ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚ã‚ã‚Šã¾ã™ãŒã€å”¯ä¸€å¤§ããªå¤‰æ›´ç‚¹ã¯ã€æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã€[Google Play é–‹ç™ºè€…ã‚µãƒ¼ãƒ“ã‚¹ã® Task API](https://developers.google.com/android/reference/com/google/android/gms/tasks/Task)ãŒæ¡ç”¨ã•ã‚ŒãŸãã‚‰ã„ã§ã™ã€‚ãã®ã»ã‹ã¯ã»ã¨ã‚“ã©å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

# å¯¾å¿œæ–¹æ³•
## Task ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ `import com.google.android.play.core.tasks.*;` ãŒã‚ã‚Œã°ã€å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã—ã‹ã—ã€å¤‰æ›´ã¯ã¨ã¦ã‚‚å®¹æ˜“ã§ã€`play.core.tasks.*` å‚ç…§ã‚’ `gms.tasks.*` ã«å¤‰æ›´ã™ã‚‹ã ã‘ã§ã™ã€‚ã‚¯ãƒ©ã‚¹åãªã©ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```diff_kotlin
- import com.google.android.play.core.tasks.*;
+ import com.google.android.gms.tasks.*;
```

## Gradle ã®å¯¾å¿œ
build.gradle(:app) ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä¿®æ­£ã—ã¦ã„ãã¾ã™ã€‚

### Play Core ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‰Šé™¤
åˆ†å‰²ã•ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å°å…¥ã™ã‚‹ãŸã‚ã€æ—¢å­˜ã® Play Core ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯å‰Šé™¤ã—ã¾ã—ã‚‡ã†ã€‚

```diff_gradle: build.gradle(:app)
...
dependencies {
    ...
    
-  implementation 'com.google.android.play:core:[ä»»æ„ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³]'

    ...
}
...
```

### å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å°å…¥
æ¬¡ã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å°å…¥ã—ã¦ã„ãã¾ã™ã€‚

#### Play Asset Delivery Library ã‚’çµ±åˆã™ã‚‹
```diff_gradle: build.gradle(:app)

...
dependencies {
    ...
    
+    implementation 'com.google.android.play:asset-delivery:2.2.2'

    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒKotlinã®å ´åˆ
+    implementation 'com.google.android.play:asset-delivery-ktx:2.2.2'
    ...
}
```

#### Play Feature Delivery Library ã‚’çµ±åˆã™ã‚‹
```diff_gradle: build.gradle(:app)
dependencies {
    ...
    
+    implementation 'com.google.android.play:feature-delivery:2.1.0'

    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒKotlinã®å ´åˆ
+    implementation 'com.google.android.play:feature-delivery-ktx:2.1.0'
    ...
}
```

#### Play In-App Review Library ã‚’çµ±åˆã™ã‚‹
```diff_gradle: build.gradle(:app)
dependencies {
    ...
    
+    implementation 'com.google.android.play:review:2.0.1'

    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒKotlinã®å ´åˆ
+    implementation 'com.google.android.play:review-ktx:2.0.1'
    ...
}
```

#### Play In-App Update Library ã‚’çµ±åˆã™ã‚‹
```diff_gradle: build.gradle(:app)
dependencies {
    ...
    
+    implementation 'com.google.android.play:app-update:2.1.0'

    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒKotlinã®å ´åˆ
+    implementation 'com.google.android.play:app-update-ktx:2.1.0'
    ...
}
```

å…¨ã¦ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¥ã‚Œã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã‘å…¥ã‚Œã¦ãã ã•ã„ã€‚
å€‹äººçš„ã«ã€ç§ã¯ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå‘¨ã‚Šã®æ©Ÿèƒ½ã—ã‹ä½¿ã£ã¦ã„ãªã„ã®ã§ã€"Play In-App Update Library" ã®ã¿å…¥ã‚Œã¾ã—ãŸã€‚

:::note warn

ä¸Šè¨˜ã¯[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developer.android.com/guide/playcore?hl=ja#java-kotlin-asset-delivery)ã®ã‚‚ã®ã§ã™ã€‚å¤‰æ›´ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ã€ã”æ³¨æ„ãã ã•ã„ã€‚

:::

# æœ€å¾Œã«
ã“ã‚Œã§è­¦å‘Šã¯è§£æ¶ˆã•ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚
å¯¾å¿œã—ã¦ã„ã¦ç–‘å•ãªã®ãŒã€ä»Šå›ã®å¯¾å¿œã‚’ã—ãªãã¦ã¯ã„ã‘ãªã„ã®ã«ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸Šã§ã¯ã€[`com.google.android.play.core.appupdate.xxxxx`](https://developer.android.com/reference/com/google/android/play/core/appupdate/AppUpdateInfo) ã¨ãªã£ã¦ã„ã‚‹ç‚¹ã§ã™ã€‚

ğŸ¤–ï¼œå…¨éƒ¨ã€ä¿®æ­£ã™ã‚Œã°è‰¯ã„ã®ã«

ãã“ã‚‚å¤‰ãˆã‚‹ã¨å¤‰æ›´ç®‡æ‰€ãŒå¤šããªã£ã¦ã—ã¾ã†ã‹ã‚‰ã§ã—ã‚‡ã†ã‹ğŸ¤”


# å‚è€ƒè³‡æ–™

https://developer.android.com/guide/playcore?hl=ja#java-kotlin-feature-delivery

https://qiita.com/razuma/items/a96ddd828cef23139f3d

https://vegcale.com/2024/06/20/solve-play-core-will-cause-crash-warning/
